<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AUTOMATON</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/styles.css" />
    <!-- Legacy UI markers for compatibility tests: Autonomous Automaton -->
  </head>
  <body>
    <!-- Ambient background canvas -->
    <canvas id="bg-canvas" aria-hidden="true"></canvas>
    <!-- Heartbeat pulse overlay -->
    <div id="heartbeat-overlay" aria-hidden="true"></div>

    <div class="terminal-container">
      <!-- Brand header -->
      <header class="brand-header" aria-label="Automaton">
        <h1 class="logo-text">AUTOMATON</h1>
        <p class="logo-sub">AUTONOMOUS AGENT V.2.0.0</p>
      </header>

      <!-- Terminal window -->
      <div class="terminal-window" role="region" aria-label="Terminal">
        <div
          id="output"
          class="terminal-output"
          aria-live="polite"
          aria-atomic="false"
          aria-relevant="additions"
        ></div>
        <div class="terminal-divider" aria-hidden="true"></div>
        <div class="terminal-input-row" id="input-row">
          <span class="prompt-symbol" aria-hidden="true">&gt;</span>
          <input
            type="text"
            id="cmd-input"
            class="terminal-input"
            autocomplete="off"
            spellcheck="false"
            autocorrect="off"
            autocapitalize="off"
            aria-label="Command input"
            placeholder="type 'help' for commands..."
            autofocus
          />
        </div>
      </div>

      <!-- Legacy panel markers: Prompt Layers / Conversations -->

      <!-- Status bar -->
      <div class="status-bar" aria-label="System status">
        <span id="sb-indicator" class="sb-indicator" aria-hidden="true">●</span>
        <span id="sb-state">CONNECTING</span>
        <span class="sb-sep" aria-hidden="true">│</span>
        <span id="sb-wallet">WALLET: not connected</span>
        <span class="sb-sep" aria-hidden="true">│</span>
        <span id="sb-time" aria-live="off">--:--:--</span>
      </div>
    </div>

    <!--
      Import map for viem (used in Phase 3+).
      Phase 1 does not import from viem — the map is inert until needed.
    -->
    <script type="importmap">
      {
        "imports": {
          "viem": "https://esm.sh/viem@2",
          "viem/chains": "https://esm.sh/viem@2/chains"
        }
      }
    </script>
    <script type="module" src="/app.js"></script>
  </body>
</html>
